<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±èªã‚¯ã‚¤ã‚ºãƒ»ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼</title>
    <!-- æ¥½ã—ã„é›°å›²æ°—ã‚’å‡ºã™ãŸã‚ã®Googleãƒ•ã‚©ãƒ³ãƒˆ -->
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4facfe;
            --secondary-color: #00f2fe;
            --accent-color: #ff9a9e;
            --correct-color: #43e97b;
            --wrong-color: #ff6b6b;
            --text-color: #444;
            --bg-color: #e0f7fa;
        }

        body {
            font-family: 'M PLUS Rounded 1c', sans-serif;
            background: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--text-color);
        }

        .app-container {
            background-color: #ffffff;
            width: 90%;
            max-width: 600px;
            border-radius: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            overflow: hidden;
            position: relative;
            padding: 20px;
            text-align: center;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼å‘¨ã‚Š */
        h1 {
            color: #007bb5;
            font-size: 24px;
            margin: 10px 0;
        }

        .progress-bar {
            width: 100%;
            background-color: #eee;
            border-radius: 10px;
            margin: 15px 0;
            height: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-number {
            font-size: 18px;
            color: #666;
            margin-bottom: 5px;
        }

        /* å•é¡Œæ–‡ã‚¨ãƒªã‚¢ */
        .question-box {
            background-color: #f0f9ff;
            border: 3px solid #b3e5fc;
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .question-text {
            font-size: 28px;
            font-weight: bold;
            color: #0277bd;
            line-height: 1.4;
            margin-bottom: 10px;
        }

        /* ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ãƒœã‚¿ãƒ³ */
        .speak-btn {
            background-color: #fff;
            border: 2px solid #4facfe;
            color: #4facfe;
            border-radius: 50px;
            padding: 8px 20px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            outline: none;
            font-family: inherit;
        }

        .speak-btn:hover {
            background-color: #e3f2fd;
            transform: scale(1.05);
        }

        .speak-btn:active {
            transform: scale(0.95);
        }

        .question-jp {
            font-size: 16px;
            color: #666;
            margin-top: 5px;
        }

        /* é¸æŠè‚¢ãƒœã‚¿ãƒ³ */
        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option-btn {
            background-color: #fff;
            border: 3px solid #ddd;
            border-radius: 15px;
            padding: 15px;
            font-size: 20px;
            font-family: inherit;
            color: #555;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            outline: none;
        }

        .option-btn:hover {
            background-color: #f9f9f9;
            border-color: #bbb;
            transform: translateY(-2px);
        }

        .option-btn:active {
            transform: translateY(0);
        }

        /* æ­£è§£ãƒ»ä¸æ­£è§£ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .option-btn.correct {
            background-color: #e6fffa;
            border-color: var(--correct-color);
            color: #00695c;
            font-weight: bold;
        }

        .option-btn.correct::after {
            content: "ã€‡";
            position: absolute;
            right: 20px;
            color: var(--correct-color);
            font-size: 24px;
            font-weight: bold;
        }

        .option-btn.wrong {
            background-color: #fff5f5;
            border-color: var(--wrong-color);
            color: #c62828;
            opacity: 0.7;
        }

        .option-btn.wrong::after {
            content: "âœ•";
            position: absolute;
            right: 20px;
            color: var(--wrong-color);
            font-size: 24px;
            font-weight: bold;
        }

        /* è§£èª¬ã‚¨ãƒªã‚¢ */
        .feedback-area {
            margin-top: 25px;
            padding: 20px;
            border-radius: 15px;
            display: none;
            animation: fadeIn 0.5s;
        }

        .feedback-correct {
            background-color: #e6fffa;
            border: 2px solid var(--correct-color);
        }

        .feedback-wrong {
            background-color: #fff5f5;
            border: 2px solid var(--wrong-color);
        }

        .feedback-title {
            font-size: 24px;
            font-weight: bold;
            margin: 0 0 10px 0;
        }

        .feedback-text {
            font-size: 16px;
            text-align: left;
            line-height: 1.6;
        }

        .keyword {
            color: #d81b60;
            font-weight: bold;
            background-color: #fff;
            padding: 2px 6px;
            border-radius: 4px;
            margin: 0 2px;
        }

        /* æ¬¡ã¸ãƒœã‚¿ãƒ³ */
        .next-btn {
            background: linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);
            border: none;
            border-radius: 50px;
            padding: 15px 40px;
            color: white;
            font-size: 20px;
            font-weight: bold;
            font-family: inherit;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(255, 154, 158, 0.4);
            transition: transform 0.2s;
            display: none; /* æœ€åˆã¯éš ã™ */
        }

        .next-btn:hover {
            transform: scale(1.05);
        }

        /* ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ãƒ»çµæœç”»é¢ */
        .overlay-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        #start-screen {
            display: flex;
        }
        
        #quiz-screen {
            display: none;
        }

        #result-screen {
            display: none;
        }

        .score-display {
            font-size: 60px;
            color: var(--primary-color);
            margin: 20px 0;
            font-weight: bold;
            text-shadow: 2px 2px 0px #eee;
        }

        .result-message {
            font-size: 22px;
            margin-bottom: 30px;
            color: #555;
        }

        .action-btn {
            background: linear-gradient(120deg, #89f7fe 0%, #66a6ff 100%);
            border: none;
            border-radius: 50px;
            padding: 15px 40px;
            color: white;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(102, 166, 255, 0.4);
            transition: transform 0.2s;
        }
        
        .action-btn:hover {
            transform: scale(1.05);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ã‚¹ãƒãƒ›èª¿æ•´ */
        @media (max-width: 400px) {
            .question-text { font-size: 24px; }
            .option-btn { font-size: 18px; padding: 12px; }
            h1 { font-size: 20px; }
        }
    </style>
</head>
<body>

<div class="app-container">

    <!-- ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ -->
    <div id="start-screen" class="overlay-screen">
        <h1>ãˆã„ã” ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼</h1>
        <div style="font-size: 60px; margin: 20px;">ğŸ“</div>
        <p style="font-size: 18px; margin-bottom: 30px;">
            ã‚‚ã‚“ã ã„ãŒã§ãŸã‚‰ã€ãˆã„ã”ã‚’ã‚ˆã¿ã‚ã’ã‚‹ã‚ˆã€‚<br>
            ãŠã¨ã‚’ ãã„ã¦ ã“ãŸãˆã¦ã­ï¼
        </p>
        <button class="action-btn" onclick="startQuiz()">ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
    </div>

    <!-- ã‚¯ã‚¤ã‚ºç”»é¢ -->
    <div id="quiz-screen">
        <h1>ãˆã„ã” ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼</h1>
        
        <div class="question-number">ã ã„ <span id="q-num">1</span> ã‚‚ã‚“</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>

        <div class="question-box">
            <button class="speak-btn" onclick="speakCurrentQuestion()">
                ğŸ”Š ã‚‚ã†ã„ã¡ã© ãã
            </button>
            <div class="question-text" id="question-text">Are you ready?</div>
            <div class="question-jp" id="question-jp">ã˜ã‚…ã‚“ã³ã¯ ã„ã„ã‹ãªï¼Ÿ</div>
        </div>

        <div class="options-grid" id="options-area">
            <!-- é¸æŠè‚¢ãƒœã‚¿ãƒ³ãŒã“ã“ã«å…¥ã‚Šã¾ã™ -->
        </div>

        <div class="feedback-area" id="feedback-area">
            <div class="feedback-title" id="feedback-title"></div>
            <div class="feedback-text" id="feedback-detail"></div>
        </div>

        <button class="next-btn" id="next-btn" onclick="nextQuestion()">ã¤ãã¸ ã™ã™ã‚€ â¡</button>
    </div>

    <!-- çµæœç”»é¢ -->
    <div id="result-screen" class="overlay-screen">
        <h1 style="font-size: 32px; color: #ff9a9e;">ãƒ†ã‚¹ãƒˆ ã—ã‚…ã†ã‚Šã‚‡ã†ï¼</h1>
        <div>ã‚ãªãŸã® ã¦ã‚“ã™ã†ã¯...</div>
        <div class="score-display"><span id="final-score">0</span> / 10</div>
        <div class="result-message" id="result-message">ãŒã‚“ã°ã£ãŸã­ï¼</div>
        <button class="action-btn" onclick="location.reload()">ã‚‚ã†ã„ã¡ã© ã‚„ã‚‹ï¼</button>
    </div>
</div>

<script>
    // å•é¡Œãƒ‡ãƒ¼ã‚¿
    const questions = [
        {
            q: "Are you a student?",
            jp: "ã‚ãªãŸã¯ ã›ã„ã¨ ã§ã™ã‹ï¼Ÿ",
            a: ["Yes, I am.", "Yes, I do.", "Yes, it is."],
            correct: 0,
            explain: "ã€Œ<span class='keyword'>Are you</span>...?ã€ã¨ãã‹ã‚ŒãŸã‚‰ã€ã€Œ<span class='keyword'>Yes, I am.</span>ã€ã¨ã“ãŸãˆã‚‹ã‚ˆã€‚"
        },
        {
            q: "Do you like tennis?",
            jp: "ãƒ†ãƒ‹ã‚¹ã¯ ã™ãï¼Ÿ",
            a: ["Yes, I am.", "Yes, I do.", "Yes, he does."],
            correct: 1,
            explain: "ã€Œ<span class='keyword'>Do you</span>...?ã€ã¨ãã‹ã‚ŒãŸã‚‰ã€ã€Œ<span class='keyword'>Yes, I do.</span>ã€ã¨ã“ãŸãˆã‚‹ã‚ˆã€‚"
        },
        {
            q: "Is he your teacher?",
            jp: "ã‹ã‚Œã¯ ã‚ãªãŸã®ã›ã‚“ã›ã„ï¼Ÿ",
            a: ["Yes, he do.", "Yes, he is.", "Yes, I am."],
            correct: 1,
            explain: "ã€Œ<span class='keyword'>Is he</span>...?ã€ã¨ãã‹ã‚ŒãŸã‚‰ã€ã€Œ<span class='keyword'>Yes, he is.</span>ã€ã¨ã“ãŸãˆã‚‹ã‚ˆã€‚"
        },
        {
            q: "Does she play soccer?",
            jp: "ã‹ã®ã˜ã‚‡ã¯ ã‚µãƒƒã‚«ãƒ¼ã‚’ã™ã‚‹ï¼Ÿ",
            a: ["Yes, she does.", "Yes, she is.", "Yes, I do."],
            correct: 0,
            explain: "ã€Œ<span class='keyword'>Does she</span>...?ã€ã¨ãã‹ã‚ŒãŸã‚‰ã€ã€Œ<span class='keyword'>Yes, she does.</span>ã€ã¨ã“ãŸãˆã‚‹ã‚ˆã€‚"
        },
        {
            q: "Are you happy?",
            jp: "ã‚ãªãŸã¯ ã’ã‚“ãï¼Ÿ",
            a: ["Yes, I do.", "Yes, I am.", "Yes, you are."],
            correct: 1,
            explain: "ã€Œ<span class='keyword'>Are you</span>...?ï¼ˆã‚ãªãŸã¯ï½ã§ã™ã‹ï¼‰ã€ãªã®ã§ã€Œ<span class='keyword'>Yes, I am.</span>ï¼ˆã¯ã„ã€ã‚ãŸã—ã¯ï½ã§ã™ï¼‰ã€ã ã‚ˆã€‚"
        },
        {
            q: "Do you eat pizza?",
            jp: "ãƒ”ã‚¶ã¯ ãŸã¹ã‚‹ï¼Ÿ",
            a: ["Yes, I am.", "Yes, it is.", "Yes, I do."],
            correct: 2,
            explain: "ã€Œ<span class='keyword'>Do</span>ã€ã§ãã‹ã‚ŒãŸã‚‰ã€Œ<span class='keyword'>do</span>ã€ã‚’ã¤ã‹ã£ã¦ ã“ãŸãˆã‚ˆã†ã€‚"
        },
        {
            q: "Is this a pen?",
            jp: "ã“ã‚Œã¯ ãƒšãƒ³ã§ã™ã‹ï¼Ÿ",
            a: ["Yes, it is.", "Yes, he is.", "Yes, I am."],
            correct: 0,
            explain: "ã€Œ<span class='keyword'>This</span>ï¼ˆã“ã‚Œï¼‰ã€ã¯ãƒ¢ãƒãªã®ã§ã€ã€Œ<span class='keyword'>It</span>ï¼ˆãã‚Œï¼‰ã€ã‚’ã¤ã‹ã£ã¦ ã“ãŸãˆã‚‹ã‚ˆã€‚"
        },
        {
            q: "Does he like cats?",
            jp: "ã‹ã‚Œã¯ ãƒã‚³ãŒã™ãï¼Ÿ",
            a: ["Yes, he is.", "Yes, he does.", "Yes, he do."],
            correct: 1,
            explain: "ã€Œ<span class='keyword'>Does</span>ã€ã§ãã‹ã‚ŒãŸã‚‰ã€Œ<span class='keyword'>does</span>ã€ã§ã“ãŸãˆã‚‹ã®ãŒ ãƒ«ãƒ¼ãƒ«ã ã‚ˆã€‚"
        },
        {
            q: "Are they friends?",
            jp: "ã‹ã‚Œã‚‰ã¯ ã¨ã‚‚ã ã¡ï¼Ÿ",
            a: ["Yes, they do.", "Yes, we are.", "Yes, they are."],
            correct: 2,
            explain: "ã€Œ<span class='keyword'>Are they</span>...?ï¼ˆã‹ã‚Œã‚‰ã¯ï½ã§ã™ã‹ï¼‰ã€ã«ã¯ã€Œ<span class='keyword'>Yes, they are.</span>ã€ã¨ã“ãŸãˆã‚‹ã‚ˆã€‚"
        },
        {
            q: "Do you have a pen?",
            jp: "ãƒšãƒ³ã‚’ ã‚‚ã£ã¦ã„ã‚‹ï¼Ÿ",
            a: ["Yes, I am.", "Yes, I do.", "Yes, I have."],
            correct: 1,
            explain: "ã€Œ<span class='keyword'>Do you</span>...?ã€ã®ã—ã¤ã‚‚ã‚“ã«ã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ã«ã€Œ<span class='keyword'>Yes, I do.</span>ã€ã¨ã“ãŸãˆã‚ˆã†ã€‚"
        }
    ];

    let currentIndex = 0;
    let score = 0;
    let isAnswered = false;

    // HTMLè¦ç´ 
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    const qNumEl = document.getElementById('q-num');
    const progressFill = document.getElementById('progress-fill');
    const questionTextEl = document.getElementById('question-text');
    const questionJpEl = document.getElementById('question-jp');
    const optionsArea = document.getElementById('options-area');
    const feedbackArea = document.getElementById('feedback-area');
    const feedbackTitle = document.getElementById('feedback-title');
    const feedbackDetail = document.getElementById('feedback-detail');
    const nextBtn = document.getElementById('next-btn');
    const finalScoreEl = document.getElementById('final-score');
    const resultMessageEl = document.getElementById('result-message');

    // ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³
    function startQuiz() {
        startScreen.style.display = 'none';
        quizScreen.style.display = 'block';
        loadQuestion();
    }

    // èª­ã¿ä¸Šã’æ©Ÿèƒ½
    function speakCurrentQuestion() {
        if (!window.speechSynthesis) return;

        // å†ç”Ÿä¸­ã®ã‚‚ã®ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
        window.speechSynthesis.cancel();

        const q = questions[currentIndex];
        const utterance = new SpeechSynthesisUtterance(q.q);
        
        // è¨­å®š
        utterance.lang = 'en-US'; // è‹±èªï¼ˆã‚¢ãƒ¡ãƒªã‚«ï¼‰
        utterance.rate = 0.8;     // å°‘ã—ã‚†ã£ãã‚Š
        utterance.pitch = 1.0;    // æ™®é€šã®é«˜ã•
        utterance.volume = 1.0;   // éŸ³é‡

        window.speechSynthesis.speak(utterance);
    }

    // å•é¡Œã‚’èª­ã¿è¾¼ã‚€
    function loadQuestion() {
        isAnswered = false;
        const q = questions[currentIndex];

        qNumEl.textContent = currentIndex + 1;
        progressFill.style.width = `${((currentIndex) / questions.length) * 100}%`;
        
        questionTextEl.textContent = q.q;
        questionJpEl.textContent = q.jp;

        optionsArea.innerHTML = '';
        feedbackArea.style.display = 'none';
        feedbackArea.className = 'feedback-area';
        nextBtn.style.display = 'none';

        // é¸æŠè‚¢ä½œæˆ
        q.a.forEach((ans, idx) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = ans;
            btn.onclick = () => checkAnswer(idx, btn);
            optionsArea.appendChild(btn);
        });

        // è‡ªå‹•èª­ã¿ä¸Šã’ï¼ˆå°‘ã—é…ã‚‰ã›ã¦è‡ªç„¶ã«ï¼‰
        setTimeout(() => {
            speakCurrentQuestion();
        }, 500);
    }

    // ç­”ãˆåˆã‚ã›
    function checkAnswer(selectedIdx, btnElement) {
        if (isAnswered) return;
        isAnswered = true;

        const q = questions[currentIndex];
        const buttons = optionsArea.querySelectorAll('.option-btn');
        const correctBtn = buttons[q.correct];

        if (selectedIdx === q.correct) {
            btnElement.classList.add('correct');
            feedbackArea.classList.add('feedback-correct');
            feedbackTitle.textContent = "ã›ã„ã‹ã„ï¼ğŸ‰";
            feedbackTitle.style.color = "#2e7d32";
            score++;
        } else {
            btnElement.classList.add('wrong');
            correctBtn.classList.add('correct');
            feedbackArea.classList.add('feedback-wrong');
            feedbackTitle.textContent = "ãŠã—ã„ï¼ğŸ˜¢";
            feedbackTitle.style.color = "#c62828";
        }

        feedbackDetail.innerHTML = q.explain;
        feedbackArea.style.display = 'block';
        nextBtn.style.display = 'inline-block';
        
        progressFill.style.width = `${((currentIndex + 1) / questions.length) * 100}%`;
    }

    // æ¬¡ã¸
    function nextQuestion() {
        window.speechSynthesis.cancel(); // æ¬¡ã¸è¡Œã£ãŸã‚‰éŸ³å£°ã‚¹ãƒˆãƒƒãƒ—
        currentIndex++;
        if (currentIndex < questions.length) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    // çµæœ
    function showResult() {
        quizScreen.style.display = 'none';
        resultScreen.style.display = 'flex';
        finalScoreEl.textContent = score;

        if (score === 10) {
            resultMessageEl.innerHTML = "ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆï¼<br>ã‚ãªãŸã¯è‹±èªãƒã‚¹ã‚¿ãƒ¼ã ã­ï¼ğŸŒŸ";
        } else if (score >= 8) {
            resultMessageEl.innerHTML = "ã™ã”ã„ï¼<br>ã‚ã¨ã¡ã‚‡ã£ã¨ã§æº€ç‚¹ã ï¼âœ¨";
        } else {
            resultMessageEl.innerHTML = "ãŒã‚“ã°ã£ãŸã­ï¼<br>ãªã‚“ã©ã‚‚ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã‚ˆã†ï¼ğŸ’ª";
        }
    }

</script>

</body>
</html>